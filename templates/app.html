{% extends "base.html" %}
{% block title %} NutriApp | Aplikasi {% endblock %}
{% block body %}
    <section class="mt-3">
        <form action="" method="post">
            <div class="mb-3">
                <p class="lead fw-semibold">Batas Berat:</p>
                <input type="number" name="limit" class="form-control p-2" id="limit" aria-describedby="limitHelp" required>
                <p class=" ">Masukkan batas berat makanan (dalam gram), contoh: 500</p>
            </div>
            <div class="mb-3">
                <p class="lead fw-semibold">Daftar Makanan:</p>
                <textarea class="form-control" name="detail" id="detail" rows="5" required
                placeholder="Contoh:&#10;nasi ketan, 3, 12&#10;kentang, 7, 42&#10;ayam bakar, 5, 25&#10;ikan bakar, 4, 40"></textarea>
                <p class="">Masukkan daftar menu makanan dengan format: <span class="fw-bold">
                    nama, berat, protein
                </span> 
                </p>
            </div>
            <button type="submit" class="btn btn-orange text-white">Kalkulasi</button>
        </form>
        {% if isSubmit %}
        <section class="mt-5">
            <div class="border-orange w-75 h-auto mx-auto text-center rounded rounded-3">
                <h3 class="fw-bold my-3">Space State Tree</h3>
                <div id="graph" class="text-center w-100 my-3"></div>
            </div>
            <pre id="resultGraph" class="hiding d-none">
                {{graph}}
            </pre>
            <div class="w-75 mx-auto border-orange rounded rounded-3 my-3 p-3">
                <h3 class="fw-bold text-center">Hasil</h3>
                <h6 class="lead fw-semibold">Waktu eksekusi program: </h6> <p class="lead">{{time}} detik</p>
                <h6 class="lead fw-semibold">Jumlah protein maksimal yang bisa didapat: </h6> <p class="lead">{{maxProfit}} protein.</p>
                <h6 class="lead fw-semibold">Makanan yang harus diambil yaitu:</h6>
                <ol class="lead">
                    {%- for i in range(selectedItems| length) -%}
                        <li>{{i+1}}. {{selectedItems[i]}}</li>
                    {%- endfor -%}
                </ol>
            </div>
        </section>
        {% endif %}
    </section>
{% endblock %}
